@{
    ViewData["Title"] = "Acceso al Sistema";
    ViewData["OcultarMenu"] = true; // Oculta header y footer
}

<div class="login-wrapper">
    <div class="login-card fade-in">
        
        <div class="text-center mb-4">
            <div class="icon-circle mb-3">
                <i class="bi bi-shield-lock-fill"></i>
            </div>
            <h2 class="fw-bold text-dark">BIENVENIDO</h2>
            <p class="text-muted">Ingrese credenciales de acceso</p>
        </div>

        @if(ViewBag.Mensaje != null)
        {
            <div class="alert alert-danger d-flex align-items-center mb-4" role="alert">
                <i class="bi bi-exclamation-triangle-fill me-2 fs-4"></i>
                <div class="fw-bold">@ViewBag.Mensaje</div>
            </div>
        }

        <form action='@Url.Action("LogIn2", "Account")' method="post">
            
            <div class="mb-4 text-start">
                <label for="inputPass" class="form-label fw-bold text-secondary ms-1">CONTRASEÑA</label>
                <div class="input-group input-group-lg">
                    <input type="password" class="form-control fw-bold" id="inputPass" name="Contraseña" placeholder="Ingrese su clave..." required autofocus style="border-right: none;">
                    
                    <button class="btn btn-outline-secondary border-start-0" type="button" id="btnTogglePass" style="border-color: #ced4da;">
                        <i class="bi bi-eye-slash-fill" id="iconEye"></i>
                    </button>
                </div>
            </div>
            
            <button type="submit" class="btn btn-medical-primary w-100 btn-lg shadow-sm">
                INGRESAR AL SISTEMA
            </button>
        </form>

        <div class="text-center mt-5 pt-3 border-top">
            <small class="text-muted fw-bold">Farmacia Miguetti &copy; @DateTime.Now.Year</small>
        </div>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const input = document.getElementById("inputPass");
        const btn = document.getElementById("btnTogglePass");
        const icon = document.getElementById("iconEye");

        btn.addEventListener("click", function() {
            if (input.type === "password") {
                input.type = "text";
                icon.classList.remove("bi-eye-slash-fill");
                icon.classList.add("bi-eye-fill"); // Ojo abierto
                icon.style.color = "var(--medical-green)";
            } else {
                input.type = "password";
                icon.classList.remove("bi-eye-fill");
                icon.classList.add("bi-eye-slash-fill"); // Ojo tachado
                icon.style.color = "";
            }
        });
    });
</script>

<style>
    /* Ocupa toda la pantalla y centra el contenido */
    .login-wrapper {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        min-height: 100vh; 
        background-color: #f4f6f9; /* Mismo fondo suave */
    }

    .login-card {
        background: white;
        padding: 3.5rem;
        border-radius: 15px;
        box-shadow: 0 15px 40px rgba(0,0,0,0.1); 
        width: 100%;
        max-width: 500px; 
        text-align: center;
        border-top: 6px solid #2ecc71; 
    }

    .icon-circle {
        width: 80px;
        height: 80px;
        background-color: #e8f8f5;
        color: #2ecc71;
        border-radius: 50%;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 2.5rem;
    }

    /* Botón Ingresar */
    .btn-medical-primary {
        background-color: #2c3e50;
        color: white;
        border: none;
        font-weight: 800;
        letter-spacing: 1px;
        padding: 12px;
        border-radius: 8px;
        transition: all 0.3s;
    }
    .btn-medical-primary:hover {
        background-color: #2ecc71;
        transform: translateY(-2px);
    }

    /* Estilos del Input Group */
    .input-group-lg > .form-control, 
    .input-group-lg > .btn {
        height: 60px;
        font-size: 1.2rem;
    }
    
    .form-control:focus {
        border-color: #2ecc71;
        box-shadow: none; /* Quitamos el glow default para ponerlo en el grupo si quisieras, o dejarlo limpio */
        z-index: 1;
    }
    
    /* Cuando el input tiene foco, pintamos el borde del grupo completo (opcional, visualmente lindo) */
    .input-group:focus-within .form-control,
    .input-group:focus-within .btn {
        border-color: #2ecc71;
        box-shadow: 0 0 0 4px rgba(46, 204, 113, 0.15);
    }

    .fade-in { animation: fadeIn 0.5s ease-out; }
    @@keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
</style>